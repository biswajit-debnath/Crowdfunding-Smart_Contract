(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[154],{6450:(e,t,n)=>{Promise.resolve().then(n.bind(n,6012))},6012:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>d});var a=n(5155),s=n(2115),i=n(8506),r=n(5901),l=n(7770);function d(){let{isConnected:e,web3:t}=(0,r.$)(),[n,d]=(0,s.useState)(!1),[o,u]=(0,s.useState)(!1),c=async()=>{if(!t){alert("Please connect your MetaMask wallet first!");return}u(!0);try{let e=await t.eth.getAccounts(),n=new t.eth.Contract(l.A,l.m);await n.methods.withdrawAllFundsFromContract().send({from:e[0]}),alert("Withdrawal successful!")}catch(e){e instanceof Error?e.message.includes("execution reverted")?alert("Withdrawal failed: Only the contract owner can withdraw funds"):alert("Withdrawal failed: ".concat(e.message)):alert("Withdrawal failed: Unknown error")}finally{u(!1)}};return(0,a.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-br from-[#f5f7fa] to-[#c3cfe2]",children:[o&&(0,a.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,a.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-12 h-12 border-4 border-indigo-500 border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-4 text-gray-700 font-medium",children:"Processing Withdrawal..."})]})}),(0,a.jsx)(i.V,{isMobileMenuOpen:n,setIsMobileMenuOpen:d}),(0,a.jsx)("main",{className:"flex-1 flex items-center justify-center w-full",children:(0,a.jsx)("div",{className:"w-full max-w-3xl mx-auto px-4 sm:px-8 py-16",children:(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-800 mb-12",children:"Withdraw All Funds"}),(0,a.jsx)("button",{onClick:c,disabled:!e,className:"px-8 py-4 bg-red-500 text-white font-semibold rounded-lg transition-all duration-300 mb-6 ".concat(e?"hover:bg-red-600 hover:scale-105 shadow-lg":"opacity-50 cursor-not-allowed"),children:"Withdraw"}),!e&&(0,a.jsx)("p",{className:"text-sm text-red-500 mt-2",children:"Please connect your wallet to withdraw funds"}),(0,a.jsx)("div",{className:"mt-8 p-4 bg-yellow-50 border border-yellow-200 rounded-lg max-w-md",children:(0,a.jsx)("p",{className:"text-sm text-yellow-800 text-center",children:"⚠️ Note: Withdrawals can only be performed by the contract owner"})})]})})})]})}},8506:(e,t,n)=>{"use strict";n.d(t,{V:()=>u});var a=n(5155),s=n(689),i=n(7936),r=n(8173),l=n.n(r),d=n(6046),o=n(5901);function u(e){let{isMobileMenuOpen:t,setIsMobileMenuOpen:n}=e,r=(0,d.usePathname)(),{isConnected:u,connectWallet:c}=(0,o.$)(),m=[{name:"Fund",href:"/"},{name:"Owner",href:"/owner"},{name:"Balance",href:"/balance"}],h=e=>!!("/"===e&&"/"===r||"/"!==e&&(null==r?void 0:r.startsWith(e)));return(0,a.jsx)("nav",{className:"w-full",children:(0,a.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-8 py-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("button",{onClick:()=>n(!t),className:"md:hidden p-2",children:t?(0,a.jsx)(s.A,{size:24}):(0,a.jsx)(i.A,{size:24})}),(0,a.jsx)("div",{className:"hidden md:flex gap-6",children:m.map(e=>(0,a.jsx)(l(),{href:e.href,className:"transition-colors duration-300 font-medium ".concat(h(e.href)?"text-indigo-600 font-semibold":"text-gray-600 hover:text-gray-800"),children:e.name},e.name))}),u?(0,a.jsxs)("div",{className:"px-4 py-2 bg-indigo-500 text-white font-semibold rounded-lg flex items-center gap-2 text-sm md:text-base",children:[(0,a.jsx)("div",{className:"w-2 h-2 rounded-full bg-emerald-400 animate-pulse"}),"Connected"]}):(0,a.jsx)("button",{onClick:c,className:"px-4 py-2 bg-indigo-500 hover:bg-indigo-600 text-white font-semibold rounded-lg transition-all duration-300 hover:scale-105 text-sm md:text-base",children:"Connect to MetaMask"})]}),t&&(0,a.jsx)("div",{className:"md:hidden mt-4 pb-4",children:(0,a.jsx)("div",{className:"flex flex-col gap-4",children:m.map(e=>(0,a.jsx)(l(),{href:e.href,className:"transition-colors duration-300 py-2 font-medium ".concat(h(e.href)?"text-indigo-600 font-semibold":"text-gray-600 hover:text-gray-800"),children:e.name},e.name))})})]})})}},7770:(e,t,n)=>{"use strict";n.d(t,{A:()=>s,m:()=>a});let a="0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",s=[{type:"function",name:"fund",inputs:[],outputs:[],stateMutability:"payable"},{type:"function",name:"getAllFunders",inputs:[],outputs:[{name:"",type:"address[]",internalType:"address[]"}],stateMutability:"nonpayable"},{type:"function",name:"getAmountFundedByFunderAddress",inputs:[{name:"funderAddress",type:"address",internalType:"address"}],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"getFunderAddressByIndex",inputs:[{name:"index",type:"uint256",internalType:"uint256"}],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getMinimumAmountForFunding",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"pure"},{type:"function",name:"getOwnerAddress",inputs:[],outputs:[{name:"",type:"address",internalType:"address"}],stateMutability:"view"},{type:"function",name:"getPriceFeedVersion",inputs:[],outputs:[{name:"",type:"uint256",internalType:"uint256"}],stateMutability:"view"},{type:"function",name:"transferOwnership",inputs:[{name:"newOwner",type:"address",internalType:"address"}],outputs:[],stateMutability:"nonpayable"},{type:"function",name:"withdrawAllFundsFromContract",inputs:[],outputs:[],stateMutability:"nonpayable"}]},5901:(e,t,n)=>{"use strict";n.d(t,{$:()=>d,Web3Provider:()=>l});var a=n(5155),s=n(2115),i=n(1054);let r=(0,s.createContext)(void 0);function l(e){let{children:t}=e,[n,l]=(0,s.useState)(!1),[d,o]=(0,s.useState)(null),u=async()=>{if(void 0!==window.ethereum)try{let e=new i.ufN(window.ethereum);await window.ethereum.request({method:"eth_requestAccounts"}),o(e),l(!0),alert("Wallet Connected!")}catch(e){console.error(e),alert("Failed to connect wallet!")}else alert("MetaMask not detected!")};return(0,s.useEffect)(()=>{void 0!==window.ethereum&&window.ethereum.on("accountsChanged",()=>{l(!1),o(null)})},[]),(0,a.jsx)(r.Provider,{value:{isConnected:n,web3:d,connectWallet:u},children:t})}function d(){let e=(0,s.useContext)(r);if(void 0===e)throw Error("useWeb3 must be used within a Web3Provider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[54,791,441,517,358],()=>t(6450)),_N_E=e.O()}]);